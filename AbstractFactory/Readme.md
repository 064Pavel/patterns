## [Абстрактная фабрика](https://refactoring.guru/ru/design-patterns/abstract-factory)

Пораждающий паттерн, который позволяет создавать семейства взаимосвязанных объектов без указания их конкретных классов

## Какую проблему решает

Абстрактная фабрика помогает создавать группы связанных объектов, не привязываясь к их конкретным типам. Она позволяет легко переключаться между разными семействами объектов в приложении, обеспечивая гибкость и упрощая добавление новых типов объектов. Проще говоря, абстрактная фабрика решает проблему создания семейств объектов, делая процесс создания более гибким и удобным.

## Решение

Решение для абстрактной фабрики заключается в создании интерфейса или абстрактного класса, который определяет методы для создания группы связанных объектов. Затем создаются конкретные реализации этого интерфейса или абстрактного класса для каждого семейства объектов.

Все реализации абстрактной фабрики предоставляют методы для создания объектов определенного семейства. При этом скрыты детали создания каждого конкретного объекта, что позволяет легко переключаться между разными семействами объектов без изменения клиентского кода.

Таким образом, абстрактная фабрика решает проблему создания семейств объектов, обеспечивая гибкость и удобство в добавлении новых типов объектов или изменении существующих. Она предоставляет единый интерфейс для создания объектов, делая код более поддерживаемым и легко читаемым

## Применимость

* Когда бизнес-логика программы должна работать с разными видами связанных друг с другом продуктов, не завися от конкретных классов продуктов.
* Когда в программе уже используется Фабричный метод, но очередные изменения предполагают введение новых типов продуктов.

## Шаги реализации

1. Определение интерфейсов или абстрактных классов: Сначала определите интерфейсы или абстрактные классы для каждого семейства связанных объектов. Например, если у вас есть семейство кнопок и семейство флажков, вы создадите интерфейсы `ButtonInterface` и `CheckboxInterface`.
2. Создание конкретных реализаций: Далее создайте конкретные классы, реализующие эти интерфейсы или наследующиеся от абстрактных классов. Например, `HtmlButton`, `HtmlCheckbox` для создания HTML-элементов и `GtkButton`, `GtkCheckbox` для создания элементов GTK.
3. Определение фабрик: Создайте интерфейс или абстрактный класс фабрики, который будет содержать методы для создания каждого объекта семейства. Например, `GuiFactoryInterface` с методами `createButton()` и `createCheckbox()`.
4. Создание конкретных фабрик: Реализуйте конкретные фабрики, которые будут создавать конкретные объекты каждого семейства. Например, `HtmlGuiFactory` будет создавать HTML-элементы, а `GtkGuiFactory` - элементы GTK.
5. Использование фабрик: Используйте фабрики для создания объектов в вашем приложении. Вместо создания объектов напрямую, вы будете вызывать методы фабрики для получения нужных объектов. Это позволит вашему коду оставаться независимым от конкретных реализаций объектов.
6. Легкость добавления новых семейств объектов: При необходимости добавления новых семейств объектов в приложение, вы просто создаете новые классы и фабрику для них, не затрагивая существующий код.

## Приемущества

* Реализует принцип открытости/закрытости.
* Упрощает добавление новых продуктов в программу.
* Гарантирует сочетаемость создаваемых продуктов.
* Избавляет клиентский код от привязки к конкретным классам продуктов.
* Выделяет код производства продуктов в одно место, упрощая поддержку кода.

## Недостатки

* Усложняет код программы из-за введения множества дополнительных классов.
* Требует наличия всех типов продуктов в каждой вариации.

## Фабричный метод vs Абстрактная фабрика

### Цель:
* Фабричный метод: Создание интерфейса для создания объекта с делегированием конкретной реализации создания подклассам.
* Абстрактная фабрика: Предоставление интерфейса для создания семейств взаимосвязанных объектов без привязки к конкретным классам.
### Уровень абстракции:
* Фабричный метод: Работает на уровне одного метода в классе.
* Абстрактная фабрика: Работает на уровне нескольких классов или интерфейсов.
### Количество создаваемых объектов:
* Фабричный метод: Создает один объект.
* Абстрактная фабрика: Создает семейство связанных объектов.
### Применимость:
* Фабричный метод: Создание отдельных объектов.
* Абстрактная фабрика: Создание семейств взаимосвязанных объектов.
