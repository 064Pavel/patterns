# [Factory Method](https://refactoring.guru/ru/design-patterns/factory-method)

Фабричный метод — это порождающий паттерн проектирования, который определяет общий интерфейс для создания объектов в суперклассе, позволяя подклассам изменять тип создаваемых объектов.

## Какую проблему решает? 

Проблема заключается в том, что существующий код программы тесно связан с конкретными классами или типами объектов. Это делает его недостаточно гибким для внесения изменений или добавления нового функционала без необходимости крупномасштабной переработки. Как результат, процесс разработки и поддержки программы становится сложным и требует большого количества изменений и времени, чтобы внести даже небольшие модификации.

## Решение

Паттерн Фабричный метод предлагает создавать объекты не напрямую, используя оператор `new`, а через вызов особого фабричного метода. "под капотом", объекты всё равно будут создаваться при помощи `new`, но делать это будет фабричный метод.

Теперь вы сможете переопределить фабричный метод в подклассе, чтобы изменить тип создаваемого продукта.

Чтобы эта система заработала, все возвращаемые объекты должны иметь общий интерфейс. Подклассы смогут производить объекты различных классов, следующих одному и тому же интерфейсу.

## Применимость

* Когда заранее неизвестны типы и зависимости объектов, с которыми должен работать ваш код.
* Когда вы хотите дать возможность пользователям расширять части вашего фреймворка или библиотеки.

## Шаги реализации

1. Определите абстрактный класс или интерфейс: Создайте абстрактный класс или интерфейс, который будет служить основой для всех создаваемых объектов. Этот класс или интерфейс будет иметь абстрактный метод, который будет реализован в подклассах.
2. Создайте конкретные классы: Реализуйте конкретные классы, которые наследуются от абстрактного класса или реализуют абстрактный интерфейс. Каждый из этих классов будет представлять конкретный тип объекта, который вы хотите создавать.
3. Создайте фабричный метод: В абстрактном классе или интерфейсе определите метод, который будет использоваться для создания объектов. Этот метод должен быть абстрактным, что позволит конкретным подклассам предоставлять свои собственные реализации создания объектов.
4. Реализуйте фабричный метод в подклассах: В каждом конкретном подклассе реализуйте фабричный метод, чтобы он создавал и возвращал экземпляр конкретного класса.
5. Используйте фабричный метод для создания объектов: В клиентском коде используйте фабричный метод для создания объектов. Вызывайте этот метод для получения экземпляров классов, не зная их конкретных типов, что делает код более гибким и легким для изменений.

## Приемущества

* Выделяет код производства продуктов в одно место, упрощая поддержку кода.
* Реализует принцип открытости/закрытости.

## Недостатки

* Может привести к созданию больших параллельных иерархий классов, так как для каждого класса продукта надо создать свой подкласс создателя. (Данную проблему решает абстрактная фабрика)